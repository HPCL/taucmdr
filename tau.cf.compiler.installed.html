<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tau.cf.compiler.installed module &mdash; TAU Commander Developer Documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1
',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="TAU Commander Developer Documentation" href="index.html" />
    <link rel="up" title="tau.cf.compiler package" href="tau.cf.compiler.html" />
    <link rel="next" title="tau.cf.compiler.mpi module" href="tau.cf.compiler.mpi.html" />
    <link rel="prev" title="tau.cf.compiler.tests.test_shmem module" href="tau.cf.compiler.tests.test_shmem.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><img class="rightlogo" src="_static/taulogo-large.png" alt="Logo"/><h1 class="heading"><a href="index.html">
          <span>TAU Commander Developer Documentation</span></a></h1>
        <h2 class="heading"><span>tau.cf.compiler.installed module</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="tau.cf.compiler.tests.test_shmem.html">tau.cf.compiler.tests.test_shmem module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="tau.cf.compiler.mpi.html">tau.cf.compiler.mpi module</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-tau.cf.compiler.installed">
<span id="tau-cf-compiler-installed-module"></span><h1>tau.cf.compiler.installed module<a class="headerlink" href="#module-tau.cf.compiler.installed" title="Permalink to this headline">¶</a></h1>
<p>Installed compiler detection.</p>
<p>TAU Commander&#8217;s compiler knowledgebase lists all compilers known to TAU Commander
but only some of those will actually be available on any given system.  This
module detects installed compilers and can invoke the installed compiler to
discover features that change from system to system.</p>
<dl class="class">
<dt id="tau.cf.compiler.installed.InstalledCompiler">
<em class="property">class </em><code class="descclassname">tau.cf.compiler.installed.</code><code class="descname">InstalledCompiler</code><span class="sig-paren">(</span><em>absolute_path</em>, <em>info</em>, <em>uid=None</em>, <em>wrapped=None</em>, <em>include_path=None</em>, <em>library_path=None</em>, <em>compiler_flags=None</em>, <em>libraries=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Information about an installed compiler command.</p>
<p>There are relatively few well known compilers, but a potentially infinite
number of commands that can invoke those compilers.  Additionally, an installed
compiler command may be a wrapper around another command.  This class links a
command (e.g. icc, gcc-4.2, etc.) with a compiler command in the knowledgebase.</p>
<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.absolute_path">
<code class="descname">absolute_path</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>Absolute path to the compiler command.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.info">
<code class="descname">info</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.info" title="Permalink to this definition">¶</a></dt>
<dd><p><em>CompilerInfo</em></p>
<p>Information about the compiler invoked by the compiler command.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.command">
<code class="descname">command</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.command" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>Command that invokes the compiler, without path.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.path">
<code class="descname">path</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>Absolute path to folder containing the compiler command.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.uid">
<code class="descname">uid</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.uid" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>A unique identifier for the installed compiler.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.wrapped">
<code class="descname">wrapped</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.wrapped" title="Permalink to this definition">¶</a></dt>
<dd><p><em>InstalledCompiler</em></p>
<p>Information about the wrapped compiler, if any.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.include_path">
<code class="descname">include_path</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.include_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em></p>
<p>Paths to search for include files when compiling with the wrapped compiler.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.library_path">
<code class="descname">library_path</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.library_path" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em></p>
<p>Paths to search for libraries when linking with the wrapped compiler.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.compiler_flags">
<code class="descname">compiler_flags</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.compiler_flags" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em></p>
<p>Additional flags used when compiling with the wrapped compiler.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompiler.libraries">
<code class="descname">libraries</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.libraries" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em></p>
<p>Additional libraries to link when linking with the wrapped compiler.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tau.cf.compiler.installed.InstalledCompiler.probe">
<em class="property">classmethod </em><code class="descname">probe</code><span class="sig-paren">(</span><em>command</em>, <em>family=None</em>, <em>role=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompiler.probe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompiler.probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Probe the system to discover information about an installed compiler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Absolute or relative path to an installed compiler command.</li>
<li><strong>family</strong> (<a class="reference internal" href="tau.cf.compiler.html#tau.cf.compiler.CompilerFamily" title="tau.cf.compiler.CompilerFamily"><em>CompilerFamily</em></a>) &#8211; Installed compiler&#8217;s family if known, None otherwise.</li>
<li><strong>role</strong> (<a class="reference internal" href="tau.cf.compiler.html#tau.cf.compiler.CompilerRole" title="tau.cf.compiler.CompilerRole"><em>CompilerRole</em></a>) &#8211; Installed compiler&#8217;s role if known, None otherwise.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tau.cf.compiler.installed.InstalledCompilerCreator">
<em class="property">class </em><code class="descclassname">tau.cf.compiler.installed.</code><code class="descname">InstalledCompilerCreator</code><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompilerCreator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerCreator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#type" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">type</span></code></a></p>
<p>Metaclass to create a new <a class="reference internal" href="#tau.cf.compiler.installed.InstalledCompiler" title="tau.cf.compiler.installed.InstalledCompiler"><code class="xref any py py-class docutils literal"><span class="pre">InstalledCompiler</span></code></a> instance.</p>
<p>This metaclass greatly improves TAU Commander performance.</p>
<p>InstalledCompiler instances are constructed with an absolute path
to an installed compiler command.  On initialization, the instance
invokes the compiler command to discover system-specific compiler
characteristics.  This can be very expensive, so we change the
instance creation procedure to only probe the compiler when the
compiler command has never been seen before.  This avoids dupliate
invocations in a case like:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">InstalledCompiler</span><span class="p">(</span><span class="s1">&#39;/path/to/icc&#39;</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">InstalledCompiler</span><span class="p">(</span><span class="s1">&#39;/path/to/icc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Without this metaclass, <cite>a</cite> and <cite>b</cite> would be different instances
assigned to the same compiler and <cite>icc</cite> would be probed twice. With
this metaclass, <code class="docutils literal"><span class="pre">b</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">==</span> <span class="pre">True</span></code> and <cite>icc</cite> is only invoked once.</p>
</dd></dl>

<dl class="class">
<dt id="tau.cf.compiler.installed.InstalledCompilerFamily">
<em class="property">class </em><code class="descclassname">tau.cf.compiler.installed.</code><code class="descname">InstalledCompilerFamily</code><span class="sig-paren">(</span><em>family</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompilerFamily"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerFamily" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Information about an installed compiler family.</p>
<p>Compiler families are usually installed at a common prefix but there is no
guarantee that all members of the family will be installed.  For example,
it is often the case that C and C++ compilers are installed but no Fortran
compiler is installed.  This class tracks which members of a compiler family
are actually installed on the system.</p>
<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompilerFamily.family">
<code class="descname">family</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerFamily.family" title="Permalink to this definition">¶</a></dt>
<dd><p><em>CompilerFamily</em></p>
<p>The installed family.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompilerFamily.FIXME">
<code class="descname">FIXME</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerFamily.FIXME" title="Permalink to this definition">¶</a></dt>
<dd><p>members</p>
</dd></dl>

<dl class="method">
<dt id="tau.cf.compiler.installed.InstalledCompilerFamily.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompilerFamily.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerFamily.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield one InstalledCompiler for each role filled by any compiler in this installation.</p>
</dd></dl>

<dl class="method">
<dt id="tau.cf.compiler.installed.InstalledCompilerFamily.preferred">
<code class="descname">preferred</code><span class="sig-paren">(</span><em>role</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompilerFamily.preferred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerFamily.preferred" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the preferred installed compiler for a given role.</p>
<p>Since compiler can perform multiple roles we often have many commands
that could fit a given role, but only one <em>preferred</em> command for the
role.  For example, <cite>icpc</cite> can fill the CC or CXX roles but <cite>icc</cite> is
preferred over <cite>icpc</cite> for the CC role.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>role</strong> (<a class="reference internal" href="tau.cf.compiler.html#tau.cf.compiler.CompilerRole" title="tau.cf.compiler.CompilerRole"><em>CompilerRole</em></a>) &#8211; The compiler role to fill.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The installed compiler for the role.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#tau.cf.compiler.installed.InstalledCompiler" title="tau.cf.compiler.installed.InstalledCompiler">InstalledCompiler</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code> &#8211;
This family has no compiler in the given role.</li>
<li><code class="xref py py-exc docutils literal"><span class="pre">IndexError</span></code> &#8211;
No installed compiler fills the given role.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tau.cf.compiler.installed.InstalledCompilerSet">
<em class="property">class </em><code class="descclassname">tau.cf.compiler.installed.</code><code class="descname">InstalledCompilerSet</code><span class="sig-paren">(</span><em>uid</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tau/cf/compiler/installed.html#InstalledCompilerSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tau.cf.html#tau.cf.KeyedRecord" title="tau.cf.KeyedRecord"><code class="xref py py-class docutils literal"><span class="pre">tau.cf.KeyedRecord</span></code></a></p>
<p>A collection of installed compilers, one per role if the role can be filled.</p>
<p>To actually build a software package (or user&#8217;s application) we must have exactly
one compiler in each required compiler role.</p>
<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompilerSet.uid">
<code class="descname">uid</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerSet.uid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this particular combination of compilers.</p>
</dd></dl>

<dl class="attribute">
<dt id="tau.cf.compiler.installed.InstalledCompilerSet.members">
<code class="descname">members</code><a class="headerlink" href="#tau.cf.compiler.installed.InstalledCompilerSet.members" title="Permalink to this definition">¶</a></dt>
<dd><p>(CompilerRole, InstalledCompiler) dictionary containing members of this set</p>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="tau.cf.compiler.tests.test_shmem.html">tau.cf.compiler.tests.test_shmem module</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="tau.cf.compiler.mpi.html">tau.cf.compiler.mpi module</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2015 ParaTools, Inc..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>